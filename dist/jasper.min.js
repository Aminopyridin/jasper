var jasper;!function(a){var b;!function(a){var b=function(){function a(){}return a.prototype.getFactoryOf=function(a){if(angular.isString(a)){var b=this.getter(window,a);if(!b)throw'Constructor defined as "'+a+'" not found';return b}if(angular.isFunction(a))return a;throw"Unknown component definition "+a},a.prototype.snakeCase=function(a){var b=/[A-Z]/g,c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()})},a.prototype.camelCase=function(a){var b=/[A-Z]/g;return a.replace(b,function(a,b){return b?a:a.toLowerCase()})},a.prototype.camelCaseTagName=function(a){return a.indexOf("-")<0?this.camelCase(a):a.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()})},a.prototype.getter=function(a,b){for(var c,d=b.split("."),e=d.length,f=0;e>f;f++)if(c=d[f],a=a[c],!a)return void 0;return a},a}();a.UtilityService=b}(b=a.core||(a.core={}))}(jasper||(jasper={}));var jasper;!function(a){var b;!function(a){function b(a,b){var c=function(){return a?(a.apply(this,arguments),this):this};return a&&(c.prototype=a.prototype),c}var c=function(){function c(b){this.svcRegistrar=b,this.utility=new a.UtilityService,c.directives.push(angular.If),c.directives.push(angular.For)}return c.prototype.register=function(a){var d={selector:a.name},e={};a.templateUrl?e.templateUrl=a.templateUrl:a.template&&(e.template=a.template),e.directives=c.directives,this.applyInjectables(d,a),this.applyAttributes(d,a),this.applyLifecycle(d,a);var f=a.noWrap?a.ctrl:b(a.ctrl,d.events);f.annotations||(f.annotations=[]),f.annotations.push(new angular.ComponentAnnotation(d)),f.annotations.push(new angular.ViewAnnotation(e)),c.directives.push(f)},c.prototype.applyAttributes=function(a,b){if(b.attributes){for(var c={},d=[],e=0;e<b.attributes.length;e++){var f=b.attributes[e].name,g=b.attributes[e].type||"data";switch(g.toUpperCase()){case"DATA":case"TEXT":c[f]=f;break;case"EXPR":d.push(this.utility.camelCaseTagName(f));break;default:throw"Unknown attribute type: "+g}}a.properties=c,a.events=d}},c.prototype.applyLifecycle=function(a,b){var c=["onDestroy","onChange","onAllChangesDone"];a.lifecycle=[];for(var d=b.ctrl.prototype,e=0;e<c.length;e++){var f=c[e];d[f]&&"function"==typeof d[f]&&angular[f]&&a.lifecycle.push(angular[f])}},c.prototype.applyInjectables=function(a,b){var c=b.ctrl.$inject;if(c){for(var d=[],e=[],f=0;f<c.length;f++){var g=c[f],h=this.svcRegistrar.getTypeByName(g);if(!h)throw'Service with name "'+g+'" does not registred';d.push(h),e.push([h])}b.ctrl.parameters=e,a.injectables=d}},c.directives=[],c}();a.HtmlComponentRegistrar=c}(b=a.core||(a.core={}))}(jasper||(jasper={}));var jasper;!function(a){var b;!function(a){var b=function(){function b(){this.utility=new a.UtilityService}return b.prototype.register=function(a){if(!a.ctor)throw new Error(a.name+" must specify constructor");b.allServices[a.name]=a.ctor},b.prototype.getTypeByName=function(a){return b.allServices[a]},b.allServices={},b}();a.ServiceRegistrar=b}(b=a.core||(a.core={}))}(jasper||(jasper={}));var jasper;!function(a){var b;!function(a){var b=function(){function a(){this.events={}}return a.prototype.subscribe=function(a,b){var c=this;return this.events[a]||(this.events[a]={queue:[]}),this.events[a].queue.push(b),{remove:function(){c.removeSubscription(a,b)}}},a.prototype.broadcast=function(a){for(var b=this,c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];if(this.events[a]){var e=this.events[a].queue;e.forEach(function(a){a.apply(b,c)})}},a.prototype.removeSubscription=function(a,b){if(this.events[a])for(var c=this.events[a].queue,d=0;d<c.length;d++)if(c[d]===b){c.splice(d,1);break}},a}();a.GlobalEventsService=b}(b=a.core||(a.core={}))}(jasper||(jasper={}));var jasper;!function(a){var b=function(){function b(){this.readyQueue=[],this.serviceRegistrar=new a.core.ServiceRegistrar,this.componentRegistrar=new a.core.HtmlComponentRegistrar(this.serviceRegistrar)}return b.prototype.component=function(a){this.componentRegistrar.register(a)},b.prototype.service=function(a){this.serviceRegistrar.register(a)},b.prototype.ready=function(a){return a?void(this.isReady?a():this.readyQueue.push(a)):(this.readyQueue.forEach(function(a){a()}),this.readyQueue=[],void(this.isReady=!0))},b}();a.JasperStatic=b,window.jsp=new b}(jasper||(jasper={}));